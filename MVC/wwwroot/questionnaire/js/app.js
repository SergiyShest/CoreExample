(function(){"use strict";var e={9738:function(e,t,n){var r=n(538),o=n(998),s=n(5125),i=n(3059),u=n(1713),a=n(3687),l=function(){var e=this,t=e._self._c;return t(o.Z,{staticStyle:{width:"100%",padding:"3px"},attrs:{id:"app"},on:{keydown:[function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.Save.apply(null,arguments)):null},function(t){return(t.type.indexOf("key")||37===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.SelectPrevQuestion.apply(null,arguments)):null},function(t){return(t.type.indexOf("key")||39===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.SelectNextQuestion.apply(null,arguments)):null}]}},[t(i.Z,[null!=e.Questionnarie?t(u.Z,{staticClass:"panel",staticStyle:{"background-color":"aquamarine"},style:e.headerCssStyle},[t("h2",[e._v(e._s(e.Questionnarie.Text))])]):e._e(),t("div",{staticClass:"panel",staticStyle:{"min-height":"600px",display:"flex","flex-direction":"column","justify-content":"space-between"},style:e.currentQuestionCssStyle},[t("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[null!=e.currentQuestion?t("h3",[e._v(" "+e._s(e.currentQuestion.Text)+" ")]):e._e(),null!=this.Questionnarie.Questions?t("div",{staticClass:"questionInfo"},[e._v(" "+e._s(e.currentQuestion.Order)+" of "+e._s(this.Questionnarie.Questions.length)+" ")]):e._e()]),t(s.Z,{ref:"form",model:{value:e.currentModel.valid,callback:function(t){e.$set(e.currentModel,"valid",t)},expression:"currentModel.valid"}},[null!=e.currentQuestion?t("v-jsf",{attrs:{schema:e.currentQuestion.Schema,options:e.currentQuestion.Options},model:{value:e.currentModel.answerModel,callback:function(t){e.$set(e.currentModel,"answerModel",t)},expression:"currentModel.answerModel"}}):e._e()],1),e.currentQuestion.Images&&e.currentQuestion.Images.length>0?t("div",{staticStyle:{"text-align":"left"}},e._l(e.currentQuestion.Images,(function(e){return t("img",{key:e,staticStyle:{margin:"1px",width:"300px",height:"200px"},attrs:{src:e}})})),0):e._e(),null!=e.currentQuestion?t("div",{staticStyle:{"text-align":"left"}},[e._v(" "+e._s(e.currentQuestion.Description)+" ")]):e._e(),t(a.Z),t("div",{staticStyle:{display:"flex",width:"100%",padding:"3px",margin:"3px"}},[e.currentQuestion.ShowPrevButton&&e.currentQuestion.Order>1?t("button",{staticClass:"buttion",on:{click:function(t){return e.SelectPrevQuestion()}}},[e._v(" "+e._s(e.PrevButtonText)+" ")]):e._e(),t(a.Z),e.currentQuestion.ShowNextButton&&e.currentQuestion.Order<e.Questionnarie.Questions.length?t("button",{staticClass:"buttion",attrs:{disabled:!e.enableNext},on:{click:function(t){return e.SelectNextQuestion()}}},[e._v(" "+e._s(e.NextButtonText)+" ")]):e._e(),t(a.Z)],1)],1)],1)],1)},c=[];n(7658);const d={Item:{Name:"Spanich with images2",Text:"Responda algunas preguntas y vea si usted o alguien a quien cuida puede ser elegible",Main:!0,CssStyle:{"font-family":"Arial","font-size":"25px",background:"white"},Questions:[{Name:"QUESTION 1",Text:"¿Tienes picazón en la piel?",Order:1,NextQuestionCondition:"if($Answer == 1) return 'Images'; else return 'END1';",NextButtonText:"SIG",PrevButtonText:"ANT",ShowNextButton:!1,ShowPrevButton:!1,Images:[],CssStyle:null,Schema:{type:"object",requred:["Answer"],properties:{Answer:{type:"number",title:"Marque la repuesta que le corresponde","x-display":"radio","x-itemKey":"Id","x-fromData":"context.Items","x-itemTitle":"Name"}}},Options:{context:{Items:[{Id:1,Name:"Si"},{Id:2,Name:"No"}]},selectAll:!0},QuestionnaireId:10,Description:"",Id:133},{Name:"Images",Text:"¿De las siguientes imágenes, puede identificar alguna que se parezca a la condición actual de su piel?",Order:2,NextQuestionCondition:"if($Answer == 1) return 'InputUserData'; else return 'END1';",NextButtonText:"SIG",PrevButtonText:"ANT",ShowNextButton:!1,ShowPrevButton:!0,Images:["/Content/Images/item1.PNG","/Content/Images/item2.PNG","/Content/Images/item4.PNG","/Content/Images/item3.PNG","/Content/Images/item5.PNG","/Content/Images/item6.PNG"],CssStyle:null,Schema:{type:"object",requred:["Answer"],properties:{Answer:{type:"number",title:"Marque la repuesta que le corresponde","x-display":"radio","x-itemKey":"Id","x-fromData":"context.Items","x-itemTitle":"Name"}}},Options:{context:{Items:[{Id:1,Name:"Si"},{Id:2,Name:"No"}]},selectAll:!0},QuestionnaireId:10,Description:"",Id:134},{Name:"InputUserData",Text:"Es posible que usted pueda ser elegido/a para ser parte de este estudio clínico y recibir una compensación de hasta $400 dólares. Por favor provea su nombre completo, número telefónico y correo electrónico. Un representante de nuestro equipo le contactará dentro de los próximos 3 días hábiles.",Order:3,NextQuestionCondition:null,NextButtonText:"ENVAIR",PrevButtonText:"ANT",ShowNextButton:!0,ShowPrevButton:!1,Images:[],CssStyle:null,Schema:{type:"object",requred:["phone","name"],properties:{name:{type:"string",title:"Nombre completo:"},email:{type:"string",title:"Correo electrónico (opcional)",pattern:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,5}","x-options":{messages:{pattern:"Debe tener una direccioon de correo electrónico valida"}}},phone:{type:"string",title:"Número telefónico:",pattern:"^\\s?[\\s(]?\\s?\\d[\\s-]?\\d[\\s-]?\\d[\\s\\-)]?\\s?\\d[\\s-]?\\d[\\s-]?\\d[\\s-]?\\d[\\s-]?\\d[\\s-]?\\d[\\s-]?\\d[\\s]?$|^[\\+]?\\d\\s?[\\s(]?\\s?\\d[\\s-]?\\s?\\d[\\s-]?\\d[\\s-]?\\d[\\s-]?\\d[\\s-]?\\d[\\s-]?\\d[\\s-]?","x-options":{messages:{pattern:"El numero valido debe contener 10 numeros +34 (000) 000 00  or 8 numeros (000) 000 00 "}}}}},Options:{},QuestionnaireId:10,Description:"",Id:135},{Name:"END",Text:"?Gracias por contactar!",Order:4,NextQuestionCondition:null,NextButtonText:"SIG",PrevButtonText:"ANT",ShowNextButton:!1,ShowPrevButton:!1,Images:[],CssStyle:null,Schema:{},Options:{},QuestionnaireId:10,Description:"",Id:136},{Name:"END1",Text:"?Lo sentimos! Apreciamos el tiempo que se ha tomado para responder a nuestro llamado; sin embargo, parece que por el momento no cumple con los requisitos para participar en este estudio clinico en particular.",Order:5,NextQuestionCondition:null,NextButtonText:"SIG",PrevButtonText:"ANT",ShowNextButton:!1,ShowPrevButton:!1,Images:[],CssStyle:null,Schema:{},Options:{},QuestionnaireId:10,Description:"",Id:137}],Id:10}},h={data:()=>({loadingData:!1}),methods:{GenerateGuid(){var e=(new Date).getTime(),t="undefined"!==typeof performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var r=16*Math.random();return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(t+r)%16|0,t=Math.floor(t/16)),("x"===n?r:3&r|8).toString(16)}))},ExtractItem(e){if(e.Errors&&e.Errors.length>0)this.ShowErrors(e);else if(e.Item)return e.Item},ShowErrors(e){var t;this.PlayError(),console.log(e.Errors),Array.isArray(e.Errors)?e.Errors.forEach((e=>{e.Name&&(t+=e.Name+":"),t+=e.Errors.join("\r\n")})):t=e.Errors,t&&this.ShowAlert(t)},PlayOk(){this.PlaySound("/Content/Sounds/code-found.mp3")},PlayError(){this.PlaySound("/Content/Sounds/bad-beep.mp3")},PlaySound(e){var t=document.location.origin+e,n=new Audio(t);n.autoplay=!0},CloseThis:function(){window.parent.postMessage("CloseUrlForm","*")},ShowAlert(e){console.log(e),alert(e)},fetch:function(e,t,n=null){this.loadingData=!0;var r=e,o=document.location.origin+"/"+t,s=JSON.stringify(n);fetch(o,{method:"POST",mode:"no-cors",body:s,referrer:"unsafe-url",headers:{"Content-Type":"application/json"}}).then((e=>{if(this.loadingData=!1,e)return e.json()})).then((e=>{e&&(console.log(e),r(e)),this.loadingData=!1})).catch((e=>{this.loadingData=!1,console.error("Error while getting server data: "+o+" :"+e),this.ShowAlert("Error while getting server data: "+o+" :"+e)}))},GetDate(e){return e&&e.length>10?e.substring(0,10):e},GetAge(e){var t=new Date(e);if(null==e||""==e)return null;var n=Date.now()-t.getTime(),r=new Date(n),o=r.getUTCFullYear(),s=Math.abs(o-1970);return s}}};var p=n(6593);n(6800);Id;var m={name:"App",mixins:[h],components:{VJsf:p.Z},data:()=>({userAnsverCounter:0,currentModel:{answerModel:{},valid:null},models:[],Questionnarie:{Questions:[]},currentQuestion:{Id:0,Name:null,Options:{},Schema:{}},session:SessionId}),computed:{enableNext(){return 0!=this.currentModel.valid&&Object.keys(this.currentModel.answerModel).length>0},PrevButtonText(){return this.currentQuestion.PrevButtonText?this.currentQuestion.PrevButtonText:"Prev"},NextButtonText(){return this.currentQuestion.NextButtonText?this.currentQuestion.NextButtonText:"Next"},currentQuestionCssStyle(){if(this.currentQuestion.CssStyle)return this.currentQuestion.CssStyle},headerCssStyle(){if(this.Questionnarie.CssStyle)return this.Questionnarie.CssStyle}},watch:{enableNext(e){e&&setTimeout((()=>{this.tryNext()}),500)}},methods:{tryNext(){if(this.enableNext){if(console.log(this.currentQuestion.Name),"QUESTION 1"==this.currentQuestion.Name)return void this.SelectNextQuestion();if("Images"==this.currentQuestion.Name)return void this.SelectNextQuestion()}},validateForm(){this.$refs.form.validate()},SelectQuestion(e){if(this.currentQuestion.Id==e.Id)return;if(0==e.Id)return;let t=this.models.find((e=>e.QuestionId==this.currentQuestion.Id));t&&(t=this.currentModel),this.currentQuestion=e,this.notValidOptions=null,this.notValidSchema=null,this.SetModel()},SelectNextQuestion(){let e;if(this.currentQuestion.NextQuestionCondition){var t=this.currentQuestion.NextQuestionCondition.replace("$Answer",this.currentModel.answerModel.Answer),n=new Function(t),r=n();e=this.Questionnarie.Questions.find((e=>e.Name==r))}else e=this.Questionnarie.Questions.find((e=>e.Order==this.currentQuestion.Order+1));e&&this.SelectQuestion(e),this.SaveAnsver()},SelectPrevQuestion(){const e=this.Questionnarie.Questions.find((e=>e.Order==this.currentQuestion.Order-1));e&&this.SelectQuestion(e),console.log(e)},SetModel(){let e=this.models.find((e=>e.QuestionId==this.currentQuestion.Id));e||(e={QuestionId:this.currentQuestion.Id,answerModel:{},valid:null},this.models.push(e)),this.currentModel=e},ok(e){e.Errors&&e.Errors.length>0&&this.ShowErrors(e)},GetQuestions(){this.fetch(this.SetQuestions,"Questionnaire/Get?id="+Id)},SetQuestions(e){e.Errors&&this.ShowErrors(e),e.Item&&(this.Questionnarie=e.Item,this.Questionnarie.Questions.length>0&&this.SelectQuestion(this.Questionnarie.Questions[0]))},SaveAnsver(){4==this.models.length&&this.userAnsverCounter++,this.fetch(this.ok,"Questionnaire/SaveAnsvers?questionnaireId="+Id+"&sessionId="+this.session+"_"+this.userAnsverCounter,this.models)}},mounted:function(){console.log(Id),this.SetQuestions(d)}},x=m,f=n(1001),v=(0,f.Z)(x,l,c,!1,null,null,null),y=v.exports,Q=n(1858);r.ZP.use(Q.Z);var g=new Q.Z({icons:{iconfont:"mdi"}});r.ZP.config.productionTip=!1,new r.ZP({vuetify:g,render:e=>e(y)}).$mount("#app")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,s){if(!r){var i=1/0;for(c=0;c<e.length;c++){r=e[c][0],o=e[c][1],s=e[c][2];for(var u=!0,a=0;a<r.length;a++)(!1&s||i>=s)&&Object.keys(n.O).every((function(e){return n.O[e](r[a])}))?r.splice(a--,1):(u=!1,s<i&&(i=s));if(u){e.splice(c--,1);var l=o();void 0!==l&&(t=l)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[r,o,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,s,i=r[0],u=r[1],a=r[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(o in u)n.o(u,o)&&(n.m[o]=u[o]);if(a)var c=a(n)}for(t&&t(r);l<i.length;l++)s=i[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},r=self["webpackChunkquestinnaire"]=self["webpackChunkquestinnaire"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(9738)}));r=n.O(r)})();
//# sourceMappingURL=app.js.map